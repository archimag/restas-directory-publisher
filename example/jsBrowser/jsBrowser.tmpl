// -*- mode: closure-template-html -*-
//
// jsBrowser.tmpl
//
// This file is part of the restas-directory-publisher library, released under Lisp-LGPL.
// See file COPYING for details.
//
// Author: Moskvitin Andrey <archimag@gmail.com>

{namespace restas.jsBrowser.view}

{template mainPage}
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
    {\n}
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
	    <head>
      	    <meta http-equiv="Content-Type" content="text/html; charset={$charset ? $charset : 'utf-8'}" />

            <title>restas-directory-publisher demo: jsBrowser</title>
            
            <script src="http://code.jquery.com/jquery-1.4.3.min.js" type="text/javascript"></script>
            <script src="static/jsBrowserTemplates.js" type="text/javascript"></script>
            <script src="static/jsBrowser.js" type="text/javascript"></script>

            <style type="text/css">
                a, a:active {text-decoration: none; color: blue;}
                a:visited {color: #48468F;}
                a:hover, a:focus {text-decoration: underline; color: red;}
                body {background-color: #F5F5F5;}
                h2 {margin-bottom: 12px;}
                table {margin-left: 12px;}
                th, td { font: 90% monospace; text-align: left;}
                th { font-weight: bold; padding-right: 14px; padding-bottom: 3px;}
                td {padding-right: 14px;}
                td.s, th.s {text-align: right;}
                div.list { background-color: white; border-top: 1px solid #646464; 
                           border-bottom: 1px solid #646464; padding-top: 10px; 
                           padding-bottom: 14px;}
                div.foot { font: 90% monospace; color: #787878; padding-top: 4px;}
            </style>

	    </head>

	    <body>
            <input /> <button>select</button>
            <div id="content" />
        </body>
    </html>
{/template}


{template directoryBrowse}
    <table summary="Directory Listing" cellpadding="0" cellspacing="0">
        <thead>
            <tr>
                <th class="n">Name</th>
                <th class="m">Last Modified</th>
                <th class="s">Size</th>
                <th class="t">Type</th></tr>
        </thead>

        <tbody>
            <tr>
                <td class="n"><a href="../">Parent Directory</a>/</td>
                <td class="m">&nbsp;</td>
                <td class="s">- &nbsp;</td>
                <td class="t">Directory</td>
            </tr>

            {foreach $path in $paths}
                <tr>
                    <td class="n">
                        <a href="{$path.name |id}{if $path.type == 'Directory'}/{/if}">{$path.name}</a>
                        {nil}
                        {if $path.type == 'Directory'}/{/if}
                    </td>
                    <td class="m">{$path.lastModified}</td>
                    <td class="s">{$path.size ? $path.size : '- &nbsp;' |noAutoescape}</td>
                    <td class="t">{$path.type}</td>
                </tr>
            {/foreach}
        </tbody>
    </table>
{/template}
